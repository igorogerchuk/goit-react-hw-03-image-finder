{"version":3,"sources":["components/Loader/Loader.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/LoadMoreButton/LoadMoreButton.module.css","components/ImageFinder/ImageFinder.module.css","components/SearchForm/SearchForm.jsx","services/pixabay-api.js","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/LoadMoreButton/LoadMoreButton.jsx","components/ErrorNotification/ErrorNotification.jsx","components/ImageFinder/ImageFinder.jsx","components/App/App.jsx","index.js","components/PhotoCard/PhotoCard.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","state","inputValue","handleInput","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","searchForm","this","type","autoComplete","placeholder","onChange","Component","PIXABAY_KEY","fetchAPIPictures","query","pageNumber","fetch","then","res","json","data","hits","Loader","container","loader","loaderDot","loaderText","MODAL_ROOT","document","querySelector","Modal","overlay","createRef","handleKeyPress","code","onClose","handleOverlayClick","current","window","addEventListener","removeEventListener","image","createPortal","ref","onClick","role","modal","src","alt","PhotoCard","isModalOpen","openModal","closeModal","picture","webformatURL","largeImageURL","likes","views","comments","downloads","photoCard","stats","statsItem","fullscreenButton","Gallery","pictures","gallery","map","key","id","LoadMoreButton","onLoadMore","button","ErrorNotification","message","ImageFinder","imageFinder","isLoading","error","scrollHeight","onSearch","fetchPictures","catch","finally","prevProps","prevState","scrollTo","imagefinder","length","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8bfd2d97.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__1hsaQ\",\"loader\":\"Loader_loader__v96Mc\",\"loaderDot\":\"Loader_loaderDot__2W3tm\",\"loaderText\":\"Loader_loaderText__3q4zN\",\"loading-text\":\"Loader_loading-text__TGaQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1a3-y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2qfRh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMoreButton_button__dOaPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageFinder\":\"ImageFinder_imageFinder__15pjI\"};","import React, { Component } from 'react';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleInput = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images...\"\r\n          onChange={this.handleInput}\r\n          value={this.state.inputValue}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","const PIXABAY_KEY = '14151364-399e93b2b5477c34b28123471';\nconst fetchAPIPictures = (query = '', pageNumber = 1) => {\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=${PIXABAY_KEY}`,\n  )\n    .then(res => res.json())\n    .then(data => data.hits);\n};\n\nexport default fetchAPIPictures;\n","import React from 'react';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => (\r\n  <div className={styles.container}>\r\n    <div className={styles.loader}>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderDot}></div>\r\n      <div className={styles.loaderText}></div>\r\n    </div>\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import React, { Component, createRef } from 'react';\r\nimport Img from 'react-image';\r\nimport Loader from '../Loader';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  overlay = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (this.overlay.current && e.target !== this.overlay.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { image } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.overlay}\r\n        onClick={this.handleOverlayClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>\r\n          <Img\r\n            className={styles.image}\r\n            src={image}\r\n            alt=\"pixabay\"\r\n            loader={<Loader />}\r\n          />\r\n        </div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Modal from '../Modal';\r\nimport styles from './PhotoCard.module.css';\r\n\r\nexport default class PhotoCard extends Component {\r\n  state = {\r\n    isModalOpen: false,\r\n  };\r\n\r\n  openModal = () => this.setState({ isModalOpen: true });\r\n\r\n  closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n  render() {\r\n    const { isModalOpen } = this.state;\r\n    const {\r\n      webformatURL,\r\n      largeImageURL,\r\n      likes,\r\n      views,\r\n      comments,\r\n      downloads,\r\n    } = this.props.picture;\r\n\r\n    return (\r\n      <div className={styles.photoCard}>\r\n        <img src={webformatURL} alt=\"pixabay\" />\r\n\r\n        <div className={styles.stats}>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">thumb_up</i>\r\n            {likes}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">visibility</i>\r\n            {views}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">comment</i>\r\n            {comments}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">cloud_download</i>\r\n            {downloads}\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className={styles.fullscreenButton}\r\n          onClick={this.openModal}\r\n        >\r\n          <i className=\"material-icons\">zoom_out_map</i>\r\n        </button>\r\n        {isModalOpen && (\r\n          <Modal image={largeImageURL} onClose={this.closeModal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PhotoCard from '../PhotoCard';\r\nimport styles from './Gallery.module.css';\r\n\r\nconst Gallery = ({ pictures }) => {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {pictures.map(picture => (\r\n        <li key={picture.id}>\r\n          <PhotoCard picture={picture} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport styles from './LoadMoreButton.module.css';\r\n\r\nconst LoadMoreButton = ({ onLoadMore }) => (\r\n  <button className={styles.button} type=\"button\" onClick={onLoadMore}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default LoadMoreButton;\r\n","import React from 'react';\r\n\r\nconst ErrorNotification = message => (\r\n  <div className=\"error\">Error: {message}</div>\r\n);\r\n\r\nexport default ErrorNotification;\r\n","import React, { Component, createRef } from 'react';\r\nimport SearchForm from '../SearchForm';\r\nimport fetchAPIPictures from '../../services/pixabay-api';\r\nimport Gallery from '../Gallery';\r\nimport LoadMoreButton from '../LoadMoreButton';\r\nimport ErrorNotification from '../ErrorNotification';\r\nimport Loader from '../Loader';\r\nimport styles from './ImageFinder.module.css';\r\n\r\nexport default class ImageFinder extends Component {\r\n  imageFinder = createRef();\r\n\r\n  state = {\r\n    pictures: [],\r\n    isLoading: false,\r\n    pageNumber: 1,\r\n    query: '',\r\n    error: null,\r\n    scrollHeight: 0,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.fetchPictures();\r\n    }\r\n    window.scrollTo(0, this.state.scrollHeight);\r\n  }\r\n\r\n  onSearch = query => {\r\n    this.setState({ query, pictures: [], pageNumber: 1 });\r\n  };\r\n\r\n  fetchPictures = () => {\r\n    const { query, pageNumber } = this.state;\r\n\r\n    this.setState({\r\n      isLoading: true,\r\n      scrollHeight: this.imageFinder.current.scrollHeight,\r\n    });\r\n\r\n    fetchAPIPictures(query, pageNumber)\r\n      .then(pictures => {\r\n        this.setState(state => ({\r\n          pictures: [...state.pictures, ...pictures],\r\n          pageNumber: state.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { pictures, error, isLoading } = this.state;\r\n    return (\r\n      <div ref={this.imageFinder} className={styles.imagefinder}>\r\n        <SearchForm onSubmit={this.onSearch} />\r\n        {error && <ErrorNotification message={error.message} />}\r\n        {isLoading && <Loader />}\r\n        {pictures.length > 0 && <Gallery pictures={pictures} />}\r\n        {pictures.length > 0 && (\r\n          <LoadMoreButton onLoadMore={this.fetchPictures} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ImageFinder from '../ImageFinder';\r\n\r\nconst App = () => {\r\n  return <ImageFinder />;\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__1jvby\",\"stats\":\"PhotoCard_stats__2HdIU\",\"statsItem\":\"PhotoCard_statsItem__3uO4O\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__zWNmh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3-hNk\",\"modal\":\"Modal_modal__P0Y6H\",\"image\":\"Modal_image__2kIu6\"};"],"sourceRoot":""}